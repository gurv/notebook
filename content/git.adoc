= Git

```
# Изменить комментарий текущего локального коммита
git commit --amend -m "новый"

# Добавить еще файл в локальный коммит
git add file1.txt
git commit --amend -m "..."

# Какие коммиты добавились по сравнению с веткой dev
git cherry -v dev

# Сколько коммитов добавилось по сравнению с веткой dev
git cherry -v dev | wc -l

# Просмотр настройки текстового редактора
git config --global core.editor

# Настройка текстового редактора
git config --global core.editor 'D:\app\sublime\3.0\sublime_text.exe' -w

# Просмотр настройки diff-утилиты
git config --global merge.tool

# Удаление тегов
git tag -d tagName
git push origin :refs/tags/tagName

# Удаление тегов (другой вариант)
git push --delete origin tagName
git tag -d tagName

# Проверка локального репозитория
git fsck --full

# Отмена последних 2 шт отправленных (push) комиитов
git reset --hard HEAD~2
git push --force

# Получить изменения со сбросом локальных изменений
git fetch --all
git reset --hard original/master

# Показать staged & unstaged changes
git status

# Показать коммит
git show e51ac697cc27c8d58c6c3711b20ee3066c5e8c07

# Добавить еще изменения в последний неотправленный коммит
git status
git add --all
git commit -m "..." --amend

# Пустой коммит
git commit --allow-empty -m "Trigger rebuild"

# удалить remote branch
git push origin --delete gh-pages

# revert
git revert HEAD --no-edit

# GitHub client
npm install -g ngh

# использовать token
git clone https://hostname/username/repo.git
#  Username: your_username
#  Password: your_token

# Travis CI
#
# установить на Windows
# загрузить/установить Ruby отсюда: http://www.ruby-lang.org/en/downloads/
ruby -v
export PATH=$PATH:/home/gurv/.gem/ruby/2.6.0/bin
gem install travis -v 1.8.9
#
# установить на ArchLinux
sudo pacman -S ruby
ruby -v
gem install travis
travis version
travis login --github-token <token>
#
travis token
#
# encrypt & add to .travis.yml
travis encrypt GRGIT_USER="<token>" -r gurv/notebook -add
# зашифровать приватный ключ
travis encrypt-file travis_key --add
#
# интеграция travis ci _и_ oss.sonatype.org
travis encrypt -r gurv/vg-project "CI_DEPLOY_USERNAME=gurv"
#   secure: "X22...AE="
set +H
travis encrypt -r gurv/vg-project "CI_DEPLOY_PASSWORD=!xxx"
#   secure: "IGd...Ck="
# добавить в .travis.yml
env:
  global:
    - secure: "X22...AE="
    - secure: "IGd...Ck="
# но это не сработало и пришлось это убрать и в UI Travis CI добавить это переменные, так работает https://travis-ci.org/gurv/vg-project/builds
# если публиковать с локальной машины то так
export CI_DEPLOY_USERNAME=gurv
set +H
export CI_DEPLOY_PASSWORD=!xxx
gradle publish
```
